library(tidyverse)
wq <- read_csv("delta_water_quality_data.csv")
glimpse(wq)
wq %>%
ggplot(aes(MonthYear, Temperature, color = Region)) +
geom_line()
library(tidyverse)
wq <- read_csv("delta_water_quality_data.csv")
glimpse(wq)
unique(wq$Region)
wq_join <- read_csv("delta_wq_data_region_joined.csv")
glimpse(wq)
glimpse(wq_join)
wq_join %>%
select(-FID:-TARGET_FID)
wq_join %>%
select(-FID:-TARGET_FID) %>% glimpse
wq_join <- read_csv("delta_wq_data_region_joined.csv") %>%
select(-FID:-TARGET_FID)
names(wq_join) <- names(wq)
glimpse(wq_join)
# wq_join %>%
#   filter(is.)
unique(wq_join$Region)
wq_join %>%
filter(is.na(Region))
wq2 <- wq_join %>%
filter(is.na(Region))
wq2 %>%
filter(Region == "Sacramento River") %>%
ggplot(aes(Date, Temperature)) +
geom_line()
wq2 %>%
filter(Region == "Sacramento River") %>%
ggplot(aes(Date, Temperature)) +
geom_point()
wq2 %>%
filter(Region == "Sacramento River") %>% View
wq2 <- wq_join %>%
filter(!is.na(Region))
wq2 %>%
filter(Region == "Sacramento River") %>%
ggplot(aes(Date, Temperature)) +
geom_point()
wq2 %>%
filter(Region == "Sacramento River") %>%
ggplot(aes(Date, Temperature)) +
geom_line()
wq2 %>%
filter(Region == "Sacramento River", Temperature > 0) %>%
ggplot(aes(Date, Temperature)) +
geom_line()
wq2 %>%
filter(Temperature > 0) %>%
ggplot(aes(Date, Temperature)) +
geom_line() +
facet_wrap(~Region)
glimpse(wq)
wq2 %>%
# filter(Temperature > 0) %>%
ggplot(aes(Date, Secchi)) +
geom_line() +
facet_wrap(~Region)
wq2 %>%
# filter(Temperature > 0) %>%
ggplot(aes(Date, Secchi)) +
geom_line() +
facet_wrap(~Region, scales = "free_y")
library(lubridate)
wq2 %>%
group_by(month = month(Date), year = year(Date)) %>%
summarise(mean = mean(Secchi, na.rm = TRUE)) %>%
# filter(Temperature > 0) %>%
ggplot(aes(Date, mean)) +
geom_line() +
facet_wrap(~Region, scales = "free_y")
wq2 %>%
group_by(month = month(Date), year = year(Date), Region) %>%
summarise(mean = mean(Secchi, na.rm = TRUE)) %>%
# filter(Temperature > 0) %>%
ggplot(aes(Date, mean)) +
geom_line() +
facet_wrap(~Region, scales = "free_y")
wq2 %>%
group_by(month = month(Date), year = year(Date), Region) %>%
summarise(mean = mean(Secchi, na.rm = TRUE)) %>% glimpse
wq2 %>%
group_by(month = month(Date), year = year(Date), Region) %>%
summarise(mean = mean(Secchi, na.rm = TRUE)) %>%
ungroup() %>%
mutate(date = ymd(paste(year, month, 1)))
wq2 %>%
group_by(month = month(Date), year = year(Date), Region) %>%
summarise(mean = mean(Secchi, na.rm = TRUE)) %>%
ungroup() %>%
mutate(date = ymd(paste(year, month, 1))) %>%
ggplot(aes(date, mean)) +
geom_line() +
facet_wrap(~Region, scales = "free_y")
wq2 %>%
filter(Temperature > 0) %>%
group_by(month = month(Date), year = year(Date), Region) %>%
summarise(mean = mean(Temperature, na.rm = TRUE)) %>%
ungroup() %>%
mutate(date = ymd(paste(year, month, 1))) %>%
ggplot(aes(date, mean)) +
geom_line() +
facet_wrap(~Region)
wq2 %>%
filter(Temperature > 0) %>%
group_by(month = month(Date), year = year(Date), Region) %>%
summarise(mean = mean(Temperature, na.rm = TRUE)) %>%
ungroup() %>%
mutate(date = ymd(paste(year, month, 1))) %>%
ggplot(aes(date, mean)) +
geom_line() +
facet_wrap(~Region) +
labs(y = "monthly mean temp (degC)")
wq2 %>%
filter(Temperature > 0) %>%
group_by(month = month(Date), year = year(Date), Region) %>%
summarise(mean = mean(Temperature, na.rm = TRUE)) %>%
ungroup() %>%
mutate(date = ymd(paste(year, month, 1))) %>%
ggplot(aes(date, mean)) +
geom_line() +
facet_wrap(~Region) +
labs(y = "monthly mean temp (degC)")
wq2 %>%
group_by(month = month(Date), year = year(Date), Region) %>%
summarise(mean = mean(Secchi, na.rm = TRUE)) %>%
ungroup() %>%
mutate(date = ymd(paste(year, month, 1))) %>%
ggplot(aes(date, mean)) +
geom_line() +
facet_wrap(~Region, scales = "free_y") +
labs(y = "monthly mean Secchi (ft)")
write_csv(wq_join, "delta_water_quality_data_with_strata.csv")
